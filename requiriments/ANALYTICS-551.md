# User story

Я, как пользователь видеохостинга, хочу иметь возможность добавить несколько социальных сетей для авторизации на сервисе.

Я, как пользователь видеохостинга, хочу иметь возможность добавить/изменить/удалить (неверефицированный) email.

Я, как пользователь видеохостинга, хочу иметь возможность добавить/изменить.

# Use cases

## Account settings 

### 1. Пользователь зарегистрирован только через социальную сеть
#### Предусловия

- Email - Пустое. **Кнопка Add**
- Password - Пустое, не активное. **Кнопок нет**

### 2. Пользователь зарегистрирован только через email + password
#### Предусловия

- Email - Заполненное. **Кнопка Change**
- Password - Заполненное. **Кнопка Change**

### 3. Пользователь зарегистрирован через email + password и объединил аккаунт с социальной сетью
#### Предусловия

- Email - Заполненное. **Кнопка Change**
- Password - Заполненное. **Кнопка Change**

### 4. Пользователь зарегистрирован через социальную сеть и добавил email
#### Предусловия

- Email - Заполненное. **Кнопка Change**
- Password - Пустое. **Кнопка Add**

# Tech

1. Добавить мутацию addSocialNetwork(socialNetworkType, code) для добавления возможности авторизоваться через социльную сеть. Токен обязателен.

2. В UserType добавить associatedSocialNetworks для получения списка социальных сетей привязаных к пользователю. Формируем из social_network_sessions по user_uid

3. Добавить мутацию deleteSocialNetwork(socialNetworkType, socialNetworkId). Токен обязателен. Другая социальная сесть или email + password с email_date_verify != null обязательны.

4. В socialNetworkLogin добавлена проверка на email_date_verify != null в кейсе, когда предлагаем объединить учетные записи vidaq и социальной сети. Это нужно для того, чтобы исключить объединение аккаунта с неподвержденной УЗ.

5. editEmail?
6. editPassword?